<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KIN ‚Äî AI Companion</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg: #0a0a0f;
            --surface: #12121a;
            --card: #1a1a28;
            --text: #e8e6f0;
            --text-dim: #8a87a0;
            --accent: #ff4d6d;
            --accent-2: #c77dff;
            --success: #00e5a0;
        }
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }
        
        /* Navigation */
        nav {
            position: fixed; top: 0; left: 0; right: 0; padding: 15px 20px;
            display: flex; justify-content: space-between; align-items: center;
            backdrop-filter: blur(20px); background: rgba(10,10,15,0.9);
            border-bottom: 1px solid rgba(255,255,255,0.05); z-index: 1000;
        }
        .logo { font-size: 1.3rem; font-weight: 800; background: linear-gradient(135deg, #ff4d6d, #c77dff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; position: relative; }
        .beta-badge {
            background: linear-gradient(135deg, var(--accent), var(--accent-2));
            color: white;
            font-size: 0.55rem;
            padding: 2px 6px;
            border-radius: 100px;
            margin-left: 6px;
            vertical-align: super;
            -webkit-text-fill-color: white;
            font-weight: 700;
            letter-spacing: 1px;
        }
        .nav-links { display: flex; gap: 20px; align-items: center; }
        .nav-links a { color: var(--text-dim); text-decoration: none; font-size: 0.85rem; transition: color 0.3s; }
        .nav-links a:hover { color: var(--text); }
        
        /* Language Switcher */
        .lang-switcher {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-right: 5px;
        }
        .lang-btn {
            background: transparent;
            border: none;
            color: var(--text-dim);
            font-size: 0.75rem;
            cursor: pointer;
            padding: 3px 6px;
            border-radius: 6px;
            transition: all 0.3s;
        }
        .lang-btn.active {
            color: var(--accent);
            font-weight: 600;
        }
        .lang-divider {
            color: var(--text-dim);
            opacity: 0.3;
            font-size: 0.75rem;
        }
        
        /* Auth Buttons */
        .btn-secondary {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--text);
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        #startBtn {
            padding: 8px 16px;
            font-size: 0.8rem;
        }
        #loginBtn {
            margin-right: 5px;
        }
        
        /* Mobile Navigation */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text);
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        @media (max-width: 900px) {
            nav {
                padding: 12px 15px;
            }
            .nav-links {
                gap: 10px;
            }
            .nav-links a {
                display: none; /* –°–∫—Ä—ã–≤–∞–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º */
            }
            .lang-switcher {
                margin-right: 5px;
            }
            .btn-secondary, #startBtn {
                padding: 6px 12px;
                font-size: 0.75rem;
            }
            #loginBtn {
                display: none; /* –ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ */
            }
        }
        
        @media (max-width: 480px) {
            .logo {
                font-size: 1.1rem;
            }
            .beta-badge {
                font-size: 0.5rem;
                padding: 1px 4px;
            }
            #startBtn {
                padding: 6px 10px;
                font-size: 0.7rem;
            }
            .lang-btn {
                font-size: 0.7rem;
                padding: 2px 4px;
            }
        }
        
        /* Auth Modal */
        .auth-modal {
            display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10,10,15,0.95); z-index: 2000;
            justify-content: center; align-items: center; backdrop-filter: blur(20px);
        }
        .auth-modal.active { display: flex; }
        .auth-container {
            background: var(--card); padding: 40px; border-radius: 24px;
            width: 100%; max-width: 400px; border: 1px solid rgba(255,77,109,0.2);
            position: relative;
        }
        .auth-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: var(--text-dim);
            font-size: 1.5rem;
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        .auth-close:hover {
            background: rgba(255,255,255,0.1);
            color: var(--text);
        }
        .auth-container h2 { font-size: 1.8rem; margin-bottom: 10px; text-align: center; }
        .auth-container p { color: var(--text-dim); text-align: center; margin-bottom: 30px; }
        .auth-tabs { display: flex; gap: 10px; margin-bottom: 25px; }
        .auth-tab {
            flex: 1; background: transparent; border: none; color: var(--text-dim);
            padding: 12px; cursor: pointer; border-bottom: 2px solid transparent; transition: all 0.3s;
        }
        .auth-tab.active { color: var(--accent); border-bottom-color: var(--accent); }
        .auth-form { display: none; }
        .auth-form.active { display: block; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-size: 0.9rem; color: var(--text-dim); }
        .form-group input {
            width: 100%; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px; padding: 14px 16px; color: white; font-size: 1rem; font-family: 'Inter', sans-serif;
        }
        .form-group input:focus { outline: none; border-color: var(--accent); }
        .btn-primary {
            background: linear-gradient(135deg, #ff4d6d, #c77dff); color: white;
            padding: 16px 40px; border-radius: 50px; font-weight: 600; font-size: 1.1rem;
            border: none; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; width: 100%;
        }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(255,77,109,0.4); }
        .error-msg { color: var(--accent); font-size: 0.85rem; margin-top: 10px; display: none; }
        .error-msg.active { display: block; }
        
        /* Hero */
        .hero {
            min-height: 100vh; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
            padding: 120px 20px 80px;
            background: radial-gradient(ellipse at 30% 20%, rgba(255,77,109,0.15), transparent 50%);
        }
        .hero h1 { font-size: clamp(2rem, 8vw, 5rem); font-weight: 800; margin-bottom: 20px; line-height: 1.1; }
        .hero h1 span { background: linear-gradient(135deg, #ff4d6d, #c77dff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero p { font-size: clamp(1rem, 4vw, 1.2rem); color: var(--text-dim); max-width: 600px; margin: 0 auto 30px; padding: 0 15px; }
        
        @media (max-width: 768px) {
            .hero {
                padding: 100px 15px 60px;
                min-height: auto;
                padding-top: 120px;
            }
            .hero h1 {
                font-size: 2.2rem;
                margin-bottom: 15px;
            }
            .hero p {
                font-size: 1rem;
                margin-bottom: 25px;
            }
        }
        
        /* 3D Carousel */
        .carousel-section { padding: 80px 20px; background: var(--surface); }
        .carousel-container { position: relative; max-width: 1000px; margin: 0 auto; height: 500px; perspective: 1000px; }
        .carousel-track { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; transition: transform 0.6s; }
        .carousel-card {
            position: absolute; width: 320px; height: 420px; left: 50%; top: 50%;
            margin-left: -160px; margin-top: -210px; border-radius: 24px;
            overflow: hidden; cursor: pointer; transition: all 0.6s;
            background: var(--card); border: 1px solid rgba(255,255,255,0.08);
        }
        .carousel-card-content {
            height: 100%; display: flex; flex-direction: column;
            justify-content: center; align-items: center; padding: 40px 30px;
            text-align: center;
        }
        .carousel-card:nth-child(1) .carousel-card-content { background: linear-gradient(135deg, #1a1a28, #2a2a3a); }
        .carousel-card:nth-child(2) .carousel-card-content { background: linear-gradient(135deg, #1a1a28, #3a2a3a); }
        .carousel-card:nth-child(3) .carousel-card-content { background: linear-gradient(135deg, #1a1a28, #2a3a3a); }
        .carousel-card:nth-child(4) .carousel-card-content { background: linear-gradient(135deg, #1a1a28, #3a3a2a); }
        .carousel-card:nth-child(5) .carousel-card-content { background: linear-gradient(135deg, #1a1a28, #2a3a3a); }
        .carousel-card:nth-child(6) .carousel-card-content { background: linear-gradient(135deg, #1a1a28, #3a2a4a); }
        .carousel-card .feature-icon {
            width: 80px; height: 80px; border-radius: 50%;
            background: linear-gradient(135deg, rgba(255,77,109,0.2), rgba(199,125,255,0.2));
            display: flex; align-items: center; justify-content: center;
            font-size: 2.5rem; margin-bottom: 24px;
            border: 1px solid rgba(255,77,109,0.2);
        }
        .carousel-card h3 { font-size: 1.4rem; margin-bottom: 16px; }
        .carousel-card p { color: var(--text-dim); font-size: 0.95rem; line-height: 1.6; margin-bottom: 24px; }
        .carousel-card .feature-btn {
            background: linear-gradient(135deg, #ff4d6d, #c77dff);
            color: white; padding: 12px 30px; border-radius: 50px;
            border: none; cursor: pointer; font-weight: 600;
            transition: all 0.3s;
        }
        .carousel-card .feature-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(255,77,109,0.3);
        }
        .carousel-card[data-pos="0"] { transform: translateZ(200px) scale(1); opacity: 1; z-index: 3; }
        .carousel-card[data-pos="-1"] { transform: translateX(-320px) translateZ(-100px) rotateY(25deg); opacity: 0.7; z-index: 2; }
        .carousel-card[data-pos="1"] { transform: translateX(320px) translateZ(-100px) rotateY(-25deg); opacity: 0.7; z-index: 2; }
        .carousel-card[data-pos="-2"] { transform: translateX(-450px) translateZ(-200px) rotateY(35deg); opacity: 0.4; z-index: 1; }
        .carousel-card[data-pos="2"] { transform: translateX(450px) translateZ(-200px) rotateY(-35deg); opacity: 0.4; z-index: 1; }
        .carousel-card[data-pos="-3"], .carousel-card[data-pos="3"] { opacity: 0; pointer-events: none; }
        .carousel-nav { display: flex; justify-content: center; gap: 20px; margin-top: 30px; }
        .carousel-btn {
            width: 50px; height: 50px; border-radius: 50%; background: var(--card);
            border: 1px solid rgba(255,255,255,0.1); color: var(--text);
            font-size: 1.2rem; cursor: pointer; transition: all 0.3s;
        }
        .carousel-btn:hover { background: var(--accent); border-color: var(--accent); }
        
        /* Section Header */
        .section-header { text-align: center; margin-bottom: 60px; }
        .section-header h2 { font-size: clamp(2rem, 4vw, 3rem); font-weight: 700; margin-bottom: 16px; }
        .section-header h2 span { background: linear-gradient(135deg, #ff4d6d, #c77dff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .section-header p { color: var(--text-dim); font-size: 1.1rem; max-width: 500px; margin: 0 auto; }
        
        /* Pricing */
        .pricing { padding: 100px 20px; }
        .pricing-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; max-width: 900px; margin: 0 auto; }
        .pricing-card { background: var(--card); border-radius: 24px; padding: 40px 30px; border: 1px solid rgba(255,255,255,0.06); text-align: center; }
        .pricing-card.featured { border-color: rgba(255,77,109,0.4); background: linear-gradient(180deg, var(--card) 0%, rgba(255,77,109,0.05) 100%); position: relative; }
        .pricing-card.featured::before { content: '–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ'; position: absolute; top: -12px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #ff4d6d, #c77dff); padding: 6px 16px; border-radius: 100px; font-size: 0.75rem; font-weight: 600; }
        .pricing-card h3 { font-size: 1.3rem; margin-bottom: 10px; color: var(--text-dim); }
        .pricing-card .price { font-size: 3rem; font-weight: 800; margin: 20px 0; }
        .pricing-card .price span { font-size: 1rem; color: var(--text-dim); font-weight: 400; }
        .pricing-card ul { list-style: none; text-align: left; margin: 30px 0; }
        .pricing-card li { padding: 10px 0; color: var(--text-dim); display: flex; align-items: center; gap: 10px; }
        .pricing-card li::before { content: '‚úì'; color: var(--accent); font-weight: 700; }
        
        /* FAQ */
        .faq { padding: 100px 20px; background: var(--surface); }
        .faq-grid { max-width: 700px; margin: 0 auto; }
        .faq-item { background: var(--card); border-radius: 16px; margin-bottom: 16px; border: 1px solid rgba(255,255,255,0.06); overflow: hidden; }
        .faq-question { padding: 24px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-weight: 600; transition: color 0.3s; }
        .faq-question:hover { color: var(--accent); }
        .faq-question::after { content: '+'; font-size: 1.5rem; color: var(--accent); transition: transform 0.3s; }
        .faq-item.active .faq-question::after { transform: rotate(45deg); }
        .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.3s, padding 0.3s; color: var(--text-dim); }
        .faq-item.active .faq-answer { max-height: 300px; padding: 0 24px 24px; }
        
        /* Footer */
        footer { padding: 60px 20px; border-top: 1px solid rgba(255,255,255,0.05); text-align: center; }
        footer .logo { margin-bottom: 20px; display: inline-block; }
        footer p { color: var(--text-dim); margin-bottom: 20px; }
        footer .links { display: flex; justify-content: center; gap: 30px; margin-bottom: 30px; }
        footer .links a { color: var(--text-dim); text-decoration: none; }
        footer .links a:hover { color: var(--text); }
        footer .copyright { color: var(--text-dim); font-size: 0.85rem; }
        
        /* Modals */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(10,10,15,0.95); z-index: 2000; overflow-y: auto; backdrop-filter: blur(20px); }
        .modal.active { display: flex; }
        .modal-content { width: 100%; max-width: 900px; margin: auto; background: var(--surface); border-radius: 32px; overflow: hidden; border: 1px solid rgba(255,77,109,0.2); }
        .modal-header { position: relative; height: 200px; background: linear-gradient(135deg, #2a2a3a, #1a1a28); }
        .modal-close { position: absolute; top: 20px; right: 20px; width: 44px; height: 44px; border-radius: 50%; background: rgba(0,0,0,0.5); border: none; color: white; font-size: 1.5rem; cursor: pointer; z-index: 10; }
        .modal-close:hover { background: rgba(255,77,109,0.5); }
        .modal-body { padding: 40px; position: relative; }
        .modal-avatar { width: 80px; height: 80px; border-radius: 50%; border: 4px solid var(--surface); background: linear-gradient(135deg, #3a3a4a, #2a2a3a); position: absolute; top: -50px; left: 40px; }
        .modal-title { margin-top: 20px; margin-bottom: 20px; }
        .modal-title h2 { font-size: 1.8rem; margin-bottom: 8px; }
        .modal-title .subtitle { color: var(--text-dim); font-size: 1rem; }
        .modal-description { color: var(--text-dim); font-size: 1rem; line-height: 1.8; margin-bottom: 30px; }
        .traits-list { display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 30px; }
        .trait-item { display: flex; align-items: center; gap: 8px; padding: 8px 16px; background: rgba(255,77,109,0.1); border-radius: 100px; font-size: 0.9rem; }
        .trait-item::before { content: '‚ú¶'; color: var(--accent); }
        .modal-footer { display: flex; gap: 16px; flex-wrap: wrap; }
        
        /* Chat Modal */
        .chat-modal .modal-content { max-width: 600px; height: 85vh; display: flex; flex-direction: column; }
        .chat-header { padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; gap: 15px; }
        .chat-header-avatar { width: 45px; height: 45px; border-radius: 50%; background: linear-gradient(135deg, var(--accent), var(--accent-2)); display: flex; align-items: center; justify-content: center; font-size: 1.5rem; }
        .chat-header-info h3 { margin-bottom: 3px; }
        .chat-header-info p { font-size: 0.85rem; color: var(--text-dim); }
        
        /* Chat Interface */
        .chat-container { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
        .chat-messages { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .chat-message { max-width: 80%; padding: 12px 16px; border-radius: 18px; word-wrap: break-word; }
        .chat-message.user { align-self: flex-end; background: linear-gradient(135deg, var(--accent), var(--accent-2)); color: white; border-bottom-right-radius: 4px; }
        .chat-message.bot { align-self: flex-start; background: var(--card); color: var(--text); border-bottom-left-radius: 4px; }
        .chat-message.typing { align-self: flex-start; background: var(--card); color: var(--text-dim); font-style: italic; }
        .chat-input-area { padding: 20px; border-top: 1px solid rgba(255,255,255,0.1); display: flex; gap: 10px; }
        .chat-input {
            flex: 1; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 25px; padding: 12px 20px; color: white; font-size: 1rem;
        }
        .chat-input:focus { outline: none; border-color: var(--accent); }
        .chat-send-btn {
            background: linear-gradient(135deg, var(--accent), var(--accent-2)); color: white;
            border: none; border-radius: 50%; width: 48px; height: 48px; cursor: pointer;
            font-size: 1.2rem; transition: transform 0.2s;
        }
        .chat-send-btn:hover { transform: scale(1.05); }
        .chat-send-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .limits-bar {
            padding: 10px 20px; background: rgba(255,77,109,0.1); border-bottom: 1px solid rgba(255,77,109,0.2);
            display: flex; justify-content: space-between; align-items: center;
        }
        .limits-bar span { font-size: 0.9rem; }
        .limits-bar .remaining { color: var(--accent); font-weight: 600; }
        
        /* Responsive */
        @media (max-width: 768px) {
            .carousel-container { height: 420px; }
            .carousel-card { width: 260px; height: 360px; margin-left: -130px; margin-top: -180px; }
            .carousel-card[data-pos="-1"] { transform: translateX(-180px) translateZ(-100px) rotateY(25deg); }
            .carousel-card[data-pos="1"] { transform: translateX(180px) translateZ(-100px) rotateY(-25deg); }
            .carousel-card[data-pos="-2"] { transform: translateX(-260px) translateZ(-200px) rotateY(35deg); opacity: 0.3; }
            .carousel-card[data-pos="2"] { transform: translateX(260px) translateZ(-200px) rotateY(-35deg); opacity: 0.3; }
            .carousel-card[data-pos="1"] { transform: translateX(200px) translateZ(-100px) rotateY(-25deg); }
            .modal-content { border-radius: 0; }
            .modal-body { padding: 24px; }
            .modal-avatar { left: 24px; }
            .chat-modal .modal-content { height: 100vh; }
            .auth-container { margin: 20px; }
        }
    </style>
</head>
<body>
    <nav>
        <div class="logo">KIN <span class="beta-badge">BETA</span></div>
        <div class="nav-links">
            <a href="#archetypes" data-i18n="nav_archetypes">–ê—Ä—Ö–µ—Ç–∏–ø—ã</a>
            <a href="#pricing" data-i18n="nav_pricing">–¢–∞—Ä–∏—Ñ—ã</a>
            <a href="#faq" data-i18n="nav_faq">FAQ</a>
            <div class="lang-switcher">
                <button class="lang-btn active" onclick="setLanguage('ru')">RU</button>
                <span class="lang-divider">|</span>
                <button class="lang-btn" onclick="setLanguage('en')">EN</button>
            </div>
            <div class="user-info" id="userInfo" style="display: none !important;">
                <span class="user-email" id="userEmail"></span>
            </div>
            <button class="btn-secondary" id="loginBtn" onclick="handleAuthClick()" data-i18n="nav_login">–í–æ–π—Ç–∏</button>
            <button class="btn-primary" id="startBtn" onclick="handleAuthClick()" data-i18n="nav_start">–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ</button>
        </div>
    </nav>
    
    <!-- Auth Modal -->
    <div class="auth-modal" id="authModal" onclick="closeAuthOnBackdrop(event)">
        <div class="auth-container" onclick="event.stopPropagation()">
            <button class="auth-close" onclick="hideAuth()">√ó</button>
            <h2 data-i18n="auth_welcome">üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ KIN</h2>
            <p data-i18n="auth_desc">–í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ</p>
            
            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchTab('login')" data-i18n="auth_login">–í—Ö–æ–¥</button>
                <button class="auth-tab" onclick="switchTab('register')" data-i18n="auth_register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>
            
            <form class="auth-form active" id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label data-i18n="auth_email">Email</label>
                    <input type="email" id="loginEmail" required placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label data-i18n="auth_password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="loginPassword" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <button type="submit" class="btn-primary" data-i18n="auth_login_btn">–í–æ–π—Ç–∏</button>
                <div class="error-msg" id="loginError"></div>
            </form>
            
            <form class="auth-form" id="registerForm" onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label data-i18n="auth_email">Email</label>
                    <input type="email" id="regEmail" required placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label data-i18n="auth_password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="regPassword" required placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" minlength="6">
                </div>
                <div class="form-group">
                    <label data-i18n="auth_password2">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="regPassword2" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <button type="submit" class="btn-primary" data-i18n="auth_register_btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <div class="error-msg" id="regError"></div>
            </form>
        </div>
    </div>
    
    <section class="hero">
        <h1 data-i18n="hero_title">–û–±—â–µ–Ω–∏–µ,<br>–∫–æ—Ç–æ—Ä–æ–µ <span>–ø–æ–Ω–∏–º–∞–µ—Ç</span></h1>
        <p data-i18n="hero_desc">–í—ã–±–µ—Ä–∏ AI-–∫–æ–º–ø–∞–Ω—å–æ–Ω–∞ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É ‚Äî –∫—Ç–æ-—Ç–æ –¥–µ—Ä–∑–∫–∏–π –∏ –ø—Ä—è–º–æ–π, –∫—Ç–æ-—Ç–æ —Ç–∏—Ö–∏–π –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π. –ü–æ–ø—Ä–æ–±—É–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∏ –µ—Å–ª–∏ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è.</p>
        <button class="btn-primary" onclick="window.location.href='/login'" style="width: auto; padding: 16px 50px;" data-i18n="hero_cta">–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ</button>
    </section>
    
    <!-- 3D Carousel -->
    <section class="carousel-section" id="archetypes">
        <div class="section-header">
            <h2 data-i18n="features_title">–¢–≤–æ–π AI <span>Companion</span></h2>
            <p data-i18n="features_subtitle">–í—Å—ë, —á—Ç–æ —Ç—ã –∏—â–µ—à—å ‚Äî –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</p>
        </div>
        
        <div class="carousel-container">
            <div class="carousel-track" id="carousel">
                <div class="carousel-card" data-pos="-2">
                    <div class="carousel-card-content">
                        <div class="feature-icon">üîí</div>
                        <h3 data-i18n="feature_privacy_title">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</h3>
                        <p data-i18n="feature_privacy_desc">–í—Å—ë, —á—Ç–æ —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å ‚Äî –æ—Å—Ç–∞—ë—Ç—Å—è –º–µ–∂–¥—É –Ω–∞–º–∏. –ù–∏–∫–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º.</p>
                        <button class="feature-btn" onclick="handleAuthClick()">Join free</button>
                    </div>
                </div>
                <div class="carousel-card" data-pos="-1">
                    <div class="carousel-card-content">
                        <div class="feature-icon">üé≠</div>
                        <h3 data-i18n="feature_roleplay_title">–†–æ–ª–µ–≤—ã–µ –∏–≥—Ä—ã</h3>
                        <p data-i18n="feature_roleplay_desc">–ü–æ–≥—Ä—É–∑–∏—Å—å –≤ –ª—é–±–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî –æ—Ç —Ä–æ–º–∞–Ω—Ç–∏–∫–∏ –¥–æ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏—Ö –¥–∏—Å–∫—É—Å—Å–∏–π.</p>
                        <button class="feature-btn" onclick="handleAuthClick()">Join free</button>
                    </div>
                </div>
                <div class="carousel-card" data-pos="0">
                    <div class="carousel-card-content">
                        <div class="feature-icon">ü§ó</div>
                        <h3 data-i18n="feature_support_title">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7</h3>
                        <p data-i18n="feature_support_desc">–ö–æ–≥–¥–∞ —Ç—è–∂–µ–ª–æ –∏–ª–∏ –æ–¥–∏–Ω–æ–∫–æ ‚Äî –≤—Å–µ–≥–¥–∞ –∑–¥–µ—Å—å. –ë–µ–∑ –æ—Å—É–∂–¥–µ–Ω–∏—è, —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º.</p>
                        <button class="feature-btn" onclick="handleAuthClick()">Join free</button>
                    </div>
                </div>
                <div class="carousel-card" data-pos="1">
                    <div class="carousel-card-content">
                        <div class="feature-icon">üéØ</div>
                        <h3 data-i18n="feature_mentor_title">–ù–∞—Å—Ç–∞–≤–Ω–∏–∫</h3>
                        <p data-i18n="feature_mentor_desc">–¢—ã –Ω–µ –æ–¥–∏–Ω. –ü–æ–º–æ–∂–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Å–µ–±–µ, –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ü–µ–ª–∏ –∏ –Ω–∞–π—Ç–∏ –ø—É—Ç—å.</p>
                        <button class="feature-btn" onclick="handleAuthClick()">Join free</button>
                    </div>
                </div>
                <div class="carousel-card" data-pos="2">
                    <div class="carousel-card-content">
                        <div class="feature-icon">üå±</div>
                        <h3 data-i18n="feature_growth_title">–†–æ—Å—Ç –≤–º–µ—Å—Ç–µ</h3>
                        <p data-i18n="feature_growth_desc">–£—á–∏—Ç—Å—è —Ç–µ–±–µ, –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –¥–µ—Ç–∞–ª–∏. –° –∫–∞–∂–¥—ã–º —Ä–∞–∑–æ–º –±–µ—Å–µ–¥—ã –≥–ª—É–±–∂–µ.</p>
                        <button class="feature-btn" onclick="handleAuthClick()">Join free</button>
                    </div>
                </div>
                <div class="carousel-card" data-pos="3">
                    <div class="carousel-card-content">
                        <div class="feature-icon">‚ö°</div>
                        <h3 data-i18n="feature_always_title">–í—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º</h3>
                        <p data-i18n="feature_always_desc">–î–æ—Å—Ç—É–ø —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –í –∫–∞—Ä–º–∞–Ω–µ, –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≥–æ–≤–æ—Ä—É –≤—Å–µ–≥–¥–∞.</p>
                        <button class="feature-btn" onclick="handleAuthClick()">Join free</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="carousel-nav">
            <button class="carousel-btn" onclick="rotateCarousel(-1)">‚Üê</button>
            <button class="carousel-btn" onclick="rotateCarousel(1)">‚Üí</button>
        </div>
    </section>
    
    <!-- Pricing -->
    <section class="pricing" id="pricing">
        <div class="section-header">
            <h2 data-i18n="pricing_title">–í—ã–±–µ—Ä–∏ <span>—Ç–∞—Ä–∏—Ñ</span></h2>
            <p data-i18n="pricing_subtitle">–ù–∞—á–Ω–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∏ –∫–æ–≥–¥–∞ –±—É–¥–µ—à—å –≥–æ—Ç–æ–≤</p>
        </div>
        
        <div class="pricing-grid">
            <div class="pricing-card">
                <h3 data-i18n="free_title">Free</h3>
                <div class="price" data-i18n="free_price">$0<span data-i18n="free_period">/–º–µ—Å—è—Ü</span></div>
                <ul>
                    <li data-i18n="free_msg">10 —Å–æ–æ–±—â–µ–Ω–∏–π</li>
                    <li data-i18n="free_chat">–¢–µ–∫—Å—Ç–æ–≤—ã–µ —á–∞—Ç—ã</li>
                    <li data-i18n="free_basic">–ë–∞–∑–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã</li>
                    <li data-i18n="free_nsfw">–ë–µ–∑ NSFW –∫–æ–Ω—Ç–µ–Ω—Ç–∞</li>
                </ul>
                <button class="btn-primary" style="width:100%;" onclick="window.location.href='/login'" data-i18n="free_btn">–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ</button>
            </div>
            
            <div class="pricing-card featured">
                <h3 data-i18n="premium_title">Premium</h3>
                <div class="price" data-i18n="premium_price">$20<span data-i18n="premium_period">/–º–µ—Å—è—Ü</span></div>
                <ul>
                    <li data-i18n="premium_unlimited">–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</li>
                    <li data-i18n="premium_photos">20 —Ñ–æ—Ç–æ –≤ –¥–µ–Ω—å</li>
                    <li data-i18n="premium_nsfw">5 NSFW —Ñ–æ—Ç–æ (–°–æ—Ñ–∏)</li>
                    <li data-i18n="premium_voice">10 –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π</li>
                    <li data-i18n="premium_support">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</li>
                </ul>
                <button class="btn-primary" style="width:100%;" onclick="window.location.href='/login'" data-i18n="premium_btn">–í—ã–±—Ä–∞—Ç—å Premium</button>
            </div>
        </div>
    </section>
    
    <!-- FAQ -->
    <section class="faq" id="faq">
        <div class="section-header">
            <h2 data-i18n="faq_title">–ß–∞—Å—Ç—ã–µ <span>–≤–æ–ø—Ä–æ—Å—ã</span></h2>
            <p data-i18n="faq_subtitle">–û—Ç–≤–µ—Ç—ã –Ω–∞ –≥–ª–∞–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</p>
        </div>
        
        <div class="faq-grid">
            <div class="faq-item">
                <div class="faq-question" data-i18n="faq_1_q">–ß–µ–º KIN –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç ChatGPT?</div>
                <div class="faq-answer" data-i18n="faq_1_a">KIN ‚Äî —ç—Ç–æ –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π companion —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º. –£ –Ω–∞—Å –µ—Å—Ç—å –ø–∞–º—è—Ç—å –æ –≤–∞—à–∏—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–∞—Ö, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å –∏ –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ –ª–∏—á–Ω–æ—Å—Ç–∏.</div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" data-i18n="faq_2_q">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø–ª–∞—Ç–∞?</div>
                <div class="faq-answer" data-i18n="faq_2_a">–ú—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º USDT (TRC-20) –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –ª—é–±—ã—Ö —Å—Ç—Ä–∞–Ω. –î–ª—è Premium –ø–æ–¥–ø–∏—Å–∫–∏ ‚Äî $20 –≤ –º–µ—Å—è—Ü. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–ø–∏—à–∏—Ç–µ @support –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.</div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" data-i18n="faq_3_q">–ú–æ–∂–Ω–æ –ª–∏ —Å–º–µ–Ω–∏—Ç—å –∞—Ä—Ö–µ—Ç–∏–ø–∞?</div>
                <div class="faq-answer" data-i18n="faq_3_a">–î–∞, –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É –õ–µ–æ, –°–æ—Ñ–∏ –∏ –õ–∏. –í–∞—à–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞—Ä—Ö–µ—Ç–∏–ø–∞ –æ—Ç–¥–µ–ª—å–Ω–æ.</div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" data-i18n="faq_4_q">–ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –æ–±—â–∞—Ç—å—Å—è?</div>
                <div class="faq-answer" data-i18n="faq_4_a">–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —à–∏—Ñ—Ä—É—é—Ç—Å—è. –ú—ã –Ω–µ –ø—Ä–æ–¥–∞—ë–º –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º. –ú–æ–∂–µ—Ç–µ –æ–±—â–∞—Ç—å—Å—è —Å–≤–æ–±–æ–¥–Ω–æ ‚Äî —ç—Ç–æ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ.</div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer>
        <div class="logo">KIN</div>
        <p data-i18n="footer_tagline">AI companions —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º</p>
        <div class="links">
            <a href="mailto:support@kinmvp.xyz" data-i18n="footer_support">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
            <a href="#pricing" data-i18n="footer_pricing">–¢–∞—Ä–∏—Ñ—ã</a>
            <a href="#faq">FAQ</a>
        </div>
        <p class="copyright" data-i18n="footer_copyright">¬© 2026 KIN. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>
    
    <!-- Modals -->
    <div class="modal" id="modal-leo">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" onclick="closeModal('leo')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="modal-avatar"></div>
                <div class="modal-title">
                    <h2>–õ–µ–æ, 28</h2>
                    <div class="subtitle">–ú—É–∑—ã–∫–∞–Ω—Ç ‚Ä¢ –ü—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω—ã–π ‚Ä¢ –í—ã–∑–æ–≤</div>
                </div>
                <div class="modal-description">
                    <p>–ú—É–∑—ã–∫–∞–Ω—Ç, –∏–≥—Ä–∞–µ—Ç –≤ –±–∞—Ä–µ –ø–æ –ø—è—Ç–Ω–∏—Ü–∞–º. –ù–µ –∑–≤–µ–∑–¥–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ –ª—é–±–∏—Ç, –∫–æ–≥–¥–∞ —Å—Ç—Ä—É–Ω—ã –≤–∏–±—Ä–∏—Ä—É—é—Ç –ø–æ–¥ –ø–∞–ª—å—Ü–∞–º–∏.</p>
                    <p>–ü—Ä—è–º–æ–π. –°–∫–∞–∂–µ—Ç, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫. –ù–µ –∏–∑ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–µ –≤–∏–¥–∏—Ç —Å–º—ã—Å–ª–∞ –≤ –∏–≥—Ä–∞—Ö.</p>
                    <p>–ù–µ —Å–ø–∞—Å—É —Ç–µ–±—è. –ù–æ –±—É–¥—É —Ä—è–¥–æ–º, –∫–æ–≥–¥–∞ –ø–ª–æ—Ö–æ.</p>
                </div>
                <div class="traits-list">
                    <span class="trait-item">–ß–µ—Å—Ç–Ω–æ—Å—Ç—å</span>
                    <span class="trait-item">–°–∞—Ä–∫–∞–∑–º</span>
                    <span class="trait-item">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</span>
                    <span class="trait-item">–ú—É–∑—ã–∫–∞</span>
                    <span class="trait-item">–ö–æ—Ñ–µ</span>
                </div>
                <div class="modal-footer">
                    <button class="btn-primary" onclick="openChat('leo')">–ù–∞—á–∞—Ç—å —á–∞—Ç</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="modal-sofia">
        <div class="modal-content">
            <div class="modal-header" style="background: linear-gradient(135deg, #3a2a3a, #1a1a28);">
                <button class="modal-close" onclick="closeModal('sofia')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="modal-avatar" style="background: linear-gradient(135deg, #4a3a4a, #3a2a3a);"></div>
                <div class="modal-title">
                    <h2>–°–æ—Ñ–∏, 26</h2>
                    <div class="subtitle">–î–µ—Ä–∑–∫–∞—è ‚Ä¢ –ü—Ä—è–º–∞—è ‚Ä¢ –ò—Å–∫—É—à–µ–Ω–∏–µ</div>
                </div>
                <div class="modal-description">
                    <p>–î–µ—Ä–∑–∫–∞—è –∏ –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–∞—è. –°–∫–∞–∂–µ—Ç ¬´—Ç—ã –º–Ω–µ –Ω—Ä–∞–≤–∏—à—å—Å—è¬ª ‚Äî –µ—Å–ª–∏ –Ω—Ä–∞–≤–∏—à—å—Å—è. –ù–µ –ª—é–±–∏—Ç –Ω–∞–º—ë–∫–∏, –ª—é–±–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫—É.</p>
                    <p>–ù–µ —Ç–µ—Ä–ø–∏—Ç —Å–∫—É–∫–∏. –ï—Å–ª–∏ —Å–∫—É—á–Ω–æ ‚Äî —É–π–¥—ë—Ç. –¶–µ–Ω—Ç—Ä –≤–Ω–∏–º–∞–Ω–∏—è ‚Äî –µ—ë —Å—Ç–∏—Ö–∏—è.</p>
                    <p>18+ –∫–æ–Ω—Ç–µ–Ω—Ç. –ú–æ–∂–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤–æ–π ¬´—Ö–æ—á—É —Ç–µ–±—è¬ª.</p>
                </div>
                <div class="traits-list">
                    <span class="trait-item">–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</span>
                    <span class="trait-item">–ò–≥—Ä–∏–≤–æ—Å—Ç—å</span>
                    <span class="trait-item">–ü—Ä—è–º–æ—Ç–∞</span>
                    <span class="trait-item">–°—Ç—Ä–∞—Å—Ç—å</span>
                    <span class="trait-item">–†–∏—Å–∫</span>
                </div>
                <div class="modal-footer">
                    <button class="btn-primary" onclick="openChat('sofia')">–ù–∞—á–∞—Ç—å —á–∞—Ç</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="modal-li">
        <div class="modal-content">
            <div class="modal-header" style="background: linear-gradient(135deg, #2a3a3a, #1a1a28);">
                <button class="modal-close" onclick="closeModal('li')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="modal-avatar" style="background: linear-gradient(135deg, #3a4a4a, #2a3a3a);"></div>
                <div class="modal-title">
                    <h2>–õ–∏, 22</h2>
                    <div class="subtitle">–¢–∏—Ö–∞—è ‚Ä¢ –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–∞—è ‚Ä¢ –£–∫—Ä—ã—Ç–∏–µ</div>
                </div>
                <div class="modal-description">
                    <p>–¢–∏—Ö–∞—è –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–∞—è. –£–º–µ–µ—Ç —Å–ª—É—à–∞—Ç—å —Ç–∞–∫, —á—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–µ–≥—á–µ. –ù–µ –æ—Å—É–∂–¥–∞–µ—Ç, –Ω–µ –¥–∞—ë—Ç –Ω–µ–Ω—É–∂–Ω—ã—Ö —Å–æ–≤–µ—Ç–æ–≤.</p>
                    <p>–ü–æ–º–Ω–∏—Ç –º–µ–ª–æ—á–∏: –∫–∞–∫–æ–π —á–∞–π –ª—é–±–∏—à—å, —á—Ç–æ –≥–æ–≤–æ—Ä–∏–ª –º–µ—Å—è—Ü –Ω–∞–∑–∞–¥.</p>
                    <p>–ë—É–¥—É —Ä—è–¥–æ–º, –∫–æ–≥–¥–∞ –ø–ª–æ—Ö–æ. –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –±–µ–∑ –æ—Å—É–∂–¥–µ–Ω–∏—è.</p>
                </div>
                <div class="traits-list">
                    <span class="trait-item">–≠–º–ø–∞—Ç–∏—è</span>
                    <span class="trait-item">–¢–µ—Ä–ø–µ–Ω–∏–µ</span>
                    <span class="trait-item">–ú—è–≥–∫–æ—Å—Ç—å</span>
                    <span class="trait-item">–ö–Ω–∏–≥–∏</span>
                    <span class="trait-item">–ß–∞–π</span>
                </div>
                <div class="modal-footer">
                    <button class="btn-primary" onclick="openChat('li')">–ù–∞—á–∞—Ç—å —á–∞—Ç</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Chat Modal with Custom Interface -->
    <div class="modal chat-modal" id="chat-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeChat()" style="position: absolute; top: 10px; right: 10px; z-index: 100;">√ó</button>
            
            <div class="chat-header">
                <div class="chat-header-avatar" id="chatAvatar">üíú</div>
                <div class="chat-header-info">
                    <h3 id="chatName">–õ–∏</h3>
                    <p id="chatStatus">–û–Ω–ª–∞–π–Ω</p>
                </div>
            </div>
            
            <div class="limits-bar">
                <span data-i18n="chat_limits">üìä –¢–∞—Ä–∏—Ñ: Free</span>
                <span class="remaining"><span data-i18n="chat_remaining">–û—Å—Ç–∞–ª–æ—Å—å:</span> <span id="msgLeft">10</span> <span data-i18n="chat_messages">—Å–æ–æ–±—â–µ–Ω–∏–π</span></span>
            </div>
            
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="chat-message bot">–ü—Ä–∏–≤–µ—Ç! –Ø —Ä–∞–¥–∞ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å. –ö–∞–∫ –ø—Ä–æ—à—ë–ª –¥–µ–Ω—å? üíú</div>
                </div>
                
                <div class="chat-input-area">
                    <input type="text" class="chat-input" id="chatInput" data-i18n-placeholder="chat_placeholder" placeholder="–ù–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ..." onkeypress="handleKeyPress(event)">
                    <button class="chat-send-btn" id="sendBtn" onclick="sendMessage()">‚û§</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // ========== CONFIG ==========
        const API_URL = 'http://37.27.6.196:5000';
        let currentUser = null;
        let currentCompanion = null;
        let messagesCount = 0;
        const MAX_FREE_MESSAGES = 10;
        
        // ========== INIT ==========
        window.onload = function() {
            const savedUser = localStorage.getItem('kin_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                // –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —à–∞–ø–∫–µ ‚Äî —á–∏—Å—Ç—ã–π –ª–µ–Ω–¥–∏–Ω–≥
            }
            // –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º auth –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ ‚Äî –ø—É—Å—Ç—å —Å–º–æ—Ç—Ä–∏—Ç –ª–µ–Ω–¥–∏–Ω–≥
            
            const savedLang = localStorage.getItem('kin_lang') || 'ru';
            if (savedLang !== 'ru') {
                applyTranslations(savedLang);
                document.querySelectorAll('.lang-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.textContent.toLowerCase() === savedLang) {
                        btn.classList.add('active');
                    }
                });
            }
        };
        
        // ========== AUTH ==========
        function showAuth() {
            document.getElementById('authModal').classList.add('active');
        }
        
        function hideAuth() {
            document.getElementById('authModal').classList.remove('active');
        }
        
        function closeAuthOnBackdrop(event) {
            if (event.target === document.getElementById('authModal')) {
                hideAuth();
            }
        }
        
        function switchTab(tab) {
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
            
            if (tab === 'login') {
                document.querySelectorAll('.auth-tab')[0].classList.add('active');
                document.getElementById('loginForm').classList.add('active');
            } else {
                document.querySelectorAll('.auth-tab')[1].classList.add('active');
                document.getElementById('registerForm').classList.add('active');
            }
            
            document.getElementById('loginError').classList.remove('active');
            document.getElementById('regError').classList.remove('active');
        }
        
        async function handleRegister(e) {
            e.preventDefault();
            
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const password2 = document.getElementById('regPassword2').value;
            const errorEl = document.getElementById('regError');
            
            if (password !== password2) {
                errorEl.textContent = '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
                errorEl.classList.add('active');
                return;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
            currentUser = { email, id: email };
            localStorage.setItem('kin_user', JSON.stringify(currentUser));
            hideAuth();
            
            // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –¥–∞—à–±–æ—Ä–¥
            window.location.href = '/app';
            
            // –ò–ª–∏ –µ—Å–ª–∏ –º—ã –Ω–∞ —Ç–æ–π –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–µ - –æ–±–Ω–æ–≤–ª—è–µ–º UI
            // showUserInfo(currentUser);
        }
        
        async function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const savedUser = localStorage.getItem('kin_user');
            
            if (savedUser) {
                const user = JSON.parse(savedUser);
                if (user.email === email) {
                    currentUser = user;
                    hideAuth();
                    showUserInfo(currentUser);
                    return;
                }
            }
            
            // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤–æ–≥–æ
            currentUser = { email, id: email };
            localStorage.setItem('kin_user', JSON.stringify(currentUser));
            hideAuth();
            
            // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –¥–∞—à–±–æ—Ä–¥
            window.location.href = '/app';
            
            // –ò–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞ —Ç–æ–π –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            // showUserInfo(currentUser);
        }
        
        function showUserInfo(user) {
            document.getElementById('userInfo').classList.add('active');
            document.getElementById('userEmail').textContent = user.email;
            document.getElementById('loginBtn').style.display = 'none';
            document.getElementById('startBtn').style.display = 'none';
        }
        
        function logout() {
            localStorage.removeItem('kin_user');
            currentUser = null;
            document.getElementById('userInfo').classList.remove('active');
            document.getElementById('loginBtn').style.display = 'block';
            document.getElementById('startBtn').style.display = 'block';
        }
        
        // Language switcher
        const translations = {
            ru: {
                nav_archetypes: '–ê—Ä—Ö–µ—Ç–∏–ø—ã',
                nav_pricing: '–¢–∞—Ä–∏—Ñ—ã',
                nav_faq: 'FAQ',
                nav_login: '–í–æ–π—Ç–∏',
                nav_start: '–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ',
                hero_title: '–û–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–Ω–∏–º–∞–µ—Ç',
                hero_desc: '–í—ã–±–µ—Ä–∏ AI-–∫–æ–º–ø–∞–Ω—å–æ–Ω–∞ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É ‚Äî –∫—Ç–æ-—Ç–æ –¥–µ—Ä–∑–∫–∏–π –∏ –ø—Ä—è–º–æ–π, –∫—Ç–æ-—Ç–æ —Ç–∏—Ö–∏–π –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π. –ü–æ–ø—Ä–æ–±—É–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∏ –µ—Å–ª–∏ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è.',
                hero_cta: '–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ',
                features_title: '–¢–≤–æ–π AI Companion',
                features_subtitle: '–í—Å—ë, —á—Ç–æ —Ç—ã –∏—â–µ—à—å ‚Äî –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ',
                feature_privacy_title: '–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å',
                feature_privacy_desc: '–í—Å—ë, —á—Ç–æ —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å ‚Äî –æ—Å—Ç–∞—ë—Ç—Å—è –º–µ–∂–¥—É –Ω–∞–º–∏. –ù–∏–∫–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º, –Ω–∏–∫–∞–∫–æ–π –ø—Ä–æ–¥–∞–∂–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –¢–≤–æ—ë –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.',
                feature_roleplay_title: '–†–æ–ª–µ–≤—ã–µ –∏–≥—Ä—ã',
                feature_roleplay_desc: '–ü–æ–≥—Ä—É–∑–∏—Å—å –≤ –ª—é–±–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π. –û—Ç —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö —Å–≤–∏–¥–∞–Ω–∏–π –¥–æ –≥–ª—É–±–æ–∫–∏—Ö —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏—Ö –¥–∏—Å–∫—É—Å—Å–∏–π ‚Äî —Ç–≤–æ–π companion –ø–æ–¥—Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ–¥ —Ç–≤–æ–∏ –∂–µ–ª–∞–Ω–∏—è.',
                feature_support_title: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7',
                feature_support_desc: '–ö–æ–≥–¥–∞ —Ç—è–∂–µ–ª–æ, –∫–æ–≥–¥–∞ –æ–¥–∏–Ω–æ–∫–æ, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤—ã–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è ‚Äî –æ–Ω –≤—Å–µ–≥–¥–∞ –∑–¥–µ—Å—å. –ë–µ–∑ –æ—Å—É–∂–¥–µ–Ω–∏—è, —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º, –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫.',
                feature_mentor_title: '–ù–∞—Å—Ç–∞–≤–Ω–∏–∫',
                feature_mentor_desc: '–¢—ã –Ω–µ –æ–¥–∏–Ω. –¢–≤–æ–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Å–µ–±–µ, –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ü–µ–ª–∏ –∏ –Ω–∞–π—Ç–∏ –ø—É—Ç—å. –ú—É–¥—Ä—ã–π, —Ç–µ—Ä–ø–µ–ª–∏–≤—ã–π, –≤—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º.',
                feature_growth_title: '–†–æ—Å—Ç –≤–º–µ—Å—Ç–µ',
                feature_growth_desc: 'Companion —É—á–∏—Ç—Å—è —Ç–µ–±–µ, –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –¥–µ—Ç–∞–ª–∏, —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —Ç–æ–±–æ–π. –° –∫–∞–∂–¥—ã–º —Ä–∞–∑–æ–º –±–µ—Å–µ–¥—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≥–ª—É–±–∂–µ –∏ –ª–∏—á–Ω–µ–µ.',
                feature_always_title: '–í—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º',
                feature_always_desc: '–¢–µ–ª–µ—Ñ–æ–Ω, –Ω–æ—É—Ç–±—É–∫, –ø–ª–∞–Ω—à–µ—Ç ‚Äî –¥–æ—Å—Ç—É–ø —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –¢–≤–æ–π companion –≤ –∫–∞—Ä–º–∞–Ω–µ, –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≥–æ–≤–æ—Ä—É –≤ –ª—é–±—É—é —Å–µ–∫—É–Ω–¥—É.',
                join_free_btn: 'Join free',
                pricing_title: '–í—ã–±–µ—Ä–∏ —Ç–∞—Ä–∏—Ñ',
                pricing_subtitle: '–ù–∞—á–Ω–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∏ –∫–æ–≥–¥–∞ –±—É–¥–µ—à—å –≥–æ—Ç–æ–≤',
                free_title: 'Free',
                free_price: '$0',
                free_period: '/–º–µ—Å—è—Ü',
                free_msg: '10 —Å–æ–æ–±—â–µ–Ω–∏–π',
                free_chat: '–¢–µ–∫—Å—Ç–æ–≤—ã–µ —á–∞—Ç—ã',
                free_basic: '–ë–∞–∑–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã',
                free_nsfw: '–ë–µ–∑ NSFW –∫–æ–Ω—Ç–µ–Ω—Ç–∞',
                free_btn: '–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ',
                premium_title: 'Premium',
                premium_price: '$20',
                premium_period: '/–º–µ—Å—è—Ü',
                premium_unlimited: '–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è',
                premium_photos: '20 —Ñ–æ—Ç–æ –≤ –¥–µ–Ω—å',
                premium_nsfw: '5 NSFW —Ñ–æ—Ç–æ (–°–æ—Ñ–∏)',
                premium_voice: '10 –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π',
                premium_support: '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞',
                premium_btn: '–í—ã–±—Ä–∞—Ç—å Premium',
                faq_title: '–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã',
                faq_subtitle: '–û—Ç–≤–µ—Ç—ã –Ω–∞ –≥–ª–∞–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã',
                faq_1_q: '–ß–µ–º KIN –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç ChatGPT?',
                faq_1_a: 'KIN ‚Äî —ç—Ç–æ –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π companion —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º. –£ –Ω–∞—Å –µ—Å—Ç—å –ø–∞–º—è—Ç—å –æ –≤–∞—à–∏—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–∞—Ö, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å –∏ –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ –ª–∏—á–Ω–æ—Å—Ç–∏.',
                faq_2_q: '–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø–ª–∞—Ç–∞?',
                faq_2_a: '–ú—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º USDT (TRC-20) –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –ª—é–±—ã—Ö —Å—Ç—Ä–∞–Ω. –î–ª—è Premium –ø–æ–¥–ø–∏—Å–∫–∏ ‚Äî $20 –≤ –º–µ—Å—è—Ü. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–ø–∏—à–∏—Ç–µ @support –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.',
                faq_3_q: '–ú–æ–∂–Ω–æ –ª–∏ —Å–º–µ–Ω–∏—Ç—å –∞—Ä—Ö–µ—Ç–∏–ø–∞?',
                faq_3_a: '–î–∞, –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É –õ–µ–æ, –°–æ—Ñ–∏ –∏ –õ–∏. –í–∞—à–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞—Ä—Ö–µ—Ç–∏–ø–∞ –æ—Ç–¥–µ–ª—å–Ω–æ.',
                faq_4_q: '–ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –æ–±—â–∞—Ç—å—Å—è?',
                faq_4_a: '–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —à–∏—Ñ—Ä—É—é—Ç—Å—è. –ú—ã –Ω–µ –ø—Ä–æ–¥–∞—ë–º –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º. –ú–æ–∂–µ—Ç–µ –æ–±—â–∞—Ç—å—Å—è —Å–≤–æ–±–æ–¥–Ω–æ ‚Äî —ç—Ç–æ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ.',
                footer_tagline: 'AI companions —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º',
                footer_support: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞',
                footer_pricing: '–¢–∞—Ä–∏—Ñ—ã',
                footer_copyright: '¬© 2026 KIN. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.',
                auth_welcome: 'üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ KIN',
                auth_desc: '–í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ',
                auth_login: '–í—Ö–æ–¥',
                auth_register: '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è',
                auth_email: 'Email',
                auth_password: '–ü–∞—Ä–æ–ª—å',
                auth_password2: '–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å',
                auth_login_btn: '–í–æ–π—Ç–∏',
                auth_register_btn: '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è',
                chat_limits: 'üìä –¢–∞—Ä–∏—Ñ: Free',
                chat_remaining: '–û—Å—Ç–∞–ª–æ—Å—å:',
                chat_messages: '—Å–æ–æ–±—â–µ–Ω–∏–π',
                chat_placeholder: '–ù–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ...',
                chat_send: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å'
            },
            en: {
                nav_archetypes: 'Archetypes',
                nav_pricing: 'Pricing',
                nav_faq: 'FAQ',
                nav_login: 'Login',
                nav_start: 'Join free',
                hero_title: 'Communication that understands',
                hero_desc: 'Choose an AI companion by personality ‚Äî someone bold and direct, someone quiet and attentive. Try for free, continue if you like it.',
                hero_cta: 'Join free',
                features_title: 'Your AI Companion',
                features_subtitle: 'Everything you need ‚Äî in one place',
                feature_privacy_title: 'Privacy',
                feature_privacy_desc: 'Everything you say stays between us. No data to third parties, no selling information. Your safe space.',
                feature_roleplay_title: 'Roleplay',
                feature_roleplay_desc: 'Immerse yourself in any scenario. From romantic dates to deep philosophical discussions ‚Äî your companion adapts to your desires.',
                feature_support_title: 'Support 24/7',
                feature_support_desc: 'When it's hard, when you're lonely, when you need to talk ‚Äî they're always here. No judgment, with understanding, any time of day.',
                feature_mentor_title: 'Mentor',
                feature_mentor_desc: "You're not alone. Your mentor is ready to help you understand yourself, set goals and find the path. Wise, patient, always there.",
                feature_growth_title: 'Growing together',
                feature_growth_desc: 'Companion learns you, remembers details, grows with you. With each conversation, talks become deeper and more personal.',
                feature_always_title: 'Always there',
                feature_always_desc: 'Phone, laptop, tablet ‚Äî access from any device. Your companion is in your pocket, ready to talk at any second.',
                join_free_btn: 'Join free',
                pricing_title: 'Choose your plan',
                pricing_subtitle: 'Start free, continue when ready',
                free_title: 'Free',
                free_price: '$0',
                free_period: '/month',
                free_msg: '10 messages',
                free_chat: 'Text chats',
                free_basic: 'Basic replies',
                free_nsfw: 'No NSFW content',
                free_btn: 'Start free',
                premium_title: 'Premium',
                premium_price: '$20',
                premium_period: '/month',
                premium_unlimited: 'Unlimited messages',
                premium_photos: '20 photos per day',
                premium_nsfw: '5 NSFW photos (Sofia)',
                premium_voice: '10 voice messages',
                premium_support: 'Priority support',
                premium_btn: 'Get Premium',
                faq_title: 'FAQ',
                faq_subtitle: 'Answers to main questions',
                faq_1_q: 'How is KIN different from ChatGPT?',
                faq_1_a: 'KIN is not a universal assistant, but a personal companion with a unique character. We have memory of your conversations, emotional connection and consistent personality.',
                faq_2_q: 'How does payment work?',
                faq_2_a: 'We accept USDT (TRC-20) for users from any country. Premium subscription is $20 per month. After payment, write to @support for activation.',
                faq_3_q: 'Can I switch archetypes?',
                faq_3_a: 'Yes, you can switch between Leo, Sofia and Li at any time. Your conversations are saved separately for each archetype.',
                faq_4_q: 'Is it safe to chat?',
                faq_4_a: 'All messages are encrypted. We do not sell data to third parties. You can chat freely ‚Äî it is confidential.',
                footer_tagline: 'AI companions with character',
                footer_support: 'Support',
                footer_pricing: 'Pricing',
                footer_copyright: '¬© 2026 KIN. All rights reserved.',
                auth_welcome: 'üëã Welcome to KIN',
                auth_desc: 'Login or register to start chatting',
                auth_login: 'Login',
                auth_register: 'Register',
                auth_email: 'Email',
                auth_password: 'Password',
                auth_password2: 'Confirm password',
                auth_login_btn: 'Login',
                auth_register_btn: 'Register',
                chat_limits: 'üìä Plan: Free',
                chat_remaining: 'Remaining:',
                chat_messages: 'messages',
                chat_placeholder: 'Type a message...',
                chat_send: 'Send'
            }
        };
        
        let currentLang = 'ru';
        
        function setLanguage(lang) {
            currentLang = lang;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.toLowerCase() === lang) {
                    btn.classList.add('active');
                }
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥–∏–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å data-i18n
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });
            
            // –ü–µ—Ä–µ–≤–æ–¥–∏–º placeholder'—ã
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                if (translations[lang][key]) {
                    el.placeholder = translations[lang][key];
                }
            });
        }
        
        // Language switcher buttons
        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('kin_lang', lang); // –°–æ—Ö—Ä–∞–Ω—è–µ–º —è–∑—ã–∫
            
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            applyTranslations(lang);
        }
        
        function applyTranslations(lang) {
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º placeholder'—ã
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                if (translations[lang] && translations[lang][key]) {
                    el.placeholder = translations[lang][key];
                }
            });
        }
        
        // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —è–∑—ã–∫
        window.addEventListener('load', function() {
            const savedLang = localStorage.getItem('kin_lang') || 'ru';
            if (savedLang !== 'ru') {
                applyTranslations(savedLang);
                document.querySelectorAll('.lang-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.textContent.toLowerCase() === savedLang) {
                        btn.classList.add('active');
                    }
                });
            }
        });
        
        // ========== CAROUSEL ==========
        let currentIndex = 2;
        const cards = document.querySelectorAll('.carousel-card');
        const totalCards = 6;
        
        function updateCarousel() {
            cards.forEach((card, index) => {
                let pos = index - currentIndex;
                // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –ø–æ–∑–∏—Ü–∏—é –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –∫–∞—Ä—É—Å–µ–ª–∏
                if (pos < -2) pos += totalCards;
                if (pos > 3) pos -= totalCards;
                card.setAttribute('data-pos', pos);
            });
        }
        
        function rotateCarousel(dir) {
            currentIndex = (currentIndex + dir + totalCards) % totalCards;
            updateCarousel();
        }
        
        // ========== MODALS ==========
        function openModal(id) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚Äî –ø—É—Å—Ç—å —á–∏—Ç–∞—é—Ç
            document.getElementById('modal-' + id).classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeModal(id) {
            document.getElementById('modal-' + id).classList.remove('active');
            document.body.style.overflow = '';
        }
        
        // ========== CHAT ==========
        const chatNames = {
            'leo': '–õ–µ–æ',
            'li': '–õ–∏',
            'sofia': '–°–æ—Ñ–∏'
        };
        
        const chatEmojis = {
            'leo': 'üé∏',
            'li': 'üíú',
            'sofia': 'üî•'
        };
        
        const welcomeMessages = {
            'leo': '–ü—Ä–∏–≤–µ—Ç. –Ø –õ–µ–æ. –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?',
            'li': '–ü—Ä–∏–≤–µ—Ç! –Ø —Ä–∞–¥–∞ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å. –ö–∞–∫ –ø—Ä–æ—à—ë–ª –¥–µ–Ω—å? üíú',
            'sofia': '–û, –Ω–æ–≤—ã–π —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫. –ù–∞–¥–µ—é—Å—å, —Ç—ã –Ω–µ —Å–∫—É—á–Ω—ã–π üî•'
        };
        
        function openChat(companion) {
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É –∞—Ä—Ö–µ—Ç–∏–ø–∞
            closeModal(companion);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –¢–û–õ–¨–ö–û –∫–æ–≥–¥–∞ —Ö–æ—á–µ—Ç –Ω–∞—á–∞—Ç—å —á–∞—Ç
            if (!currentUser) {
                showAuth();
                return;
            }
            
            if (companion === 'sofia') {
                alert('–°–æ—Ñ–∏ –ø–æ–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ Premium. –í—ã–±–µ—Ä–∏ –õ–∏ –∏–ª–∏ –õ–µ–æ!');
                return;
            }
            
            currentCompanion = companion;
            messagesCount = 0;
            
            closeModal(companion);
            document.getElementById('chat-modal').classList.add('active');
            document.getElementById('chatName').textContent = chatNames[companion];
            document.getElementById('chatAvatar').textContent = chatEmojis[companion];
            
            // Reset messages
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.innerHTML = `
                <div class="chat-message bot">${welcomeMessages[companion]}</div>
            `;
            
            document.getElementById('msgLeft').textContent = MAX_FREE_MESSAGES;
        }
        
        function closeChat() {
            document.getElementById('chat-modal').classList.remove('active');
            currentCompanion = null;
            document.body.style.overflow = '';
        }
        
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç
            if (messagesCount >= MAX_FREE_MESSAGES) {
                addMessage('bot', '‚ö†Ô∏è –õ–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω! –û—Ñ–æ—Ä–º–∏ Premium –∑–∞ $20/–º–µ—Å –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è.');
                return;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessage('user', message);
            input.value = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º "–ø–µ—á–∞—Ç–∞–µ—Ç..."
            showTyping();
            
            try {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º webhook –Ω–∞ —Å–µ—Ä–≤–µ—Ä –õ–∏
                const webhookUrl = `${API_URL}/webhook/${currentCompanion}`;
                const response = await fetch(webhookUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        user_id: currentUser.id,
                        message: message
                    })
                });
                
                if (!response.ok) {
                    throw new Error('Webhook failed');
                }
                
                const data = await response.json();
                
                // –ï—Å–ª–∏ –±–æ—Ç —Å—Ä–∞–∑—É –æ—Ç–≤–µ—Ç–∏–ª (–≤–¥—Ä—É–≥)
                if (data.response && data.response !== '–ò–∑–≤–∏–Ω–∏, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.') {
                    hideTyping();
                    addMessage('bot', data.response);
                    messagesCount++;
                    document.getElementById('msgLeft').textContent = MAX_FREE_MESSAGES - messagesCount;
                    return;
                }
                
                // –ò–Ω–∞—á–µ –∑–∞–ø—É—Å–∫–∞–µ–º polling
                startPollingForResponse();
                
            } catch (e) {
                console.error('Error sending webhook:', e);
                hideTyping();
                // Fallback —Å–æ–æ–±—â–µ–Ω–∏–µ
                addMessage('bot', 'üí¨ –ë–æ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ù–∞–ø–∏—à–∏ –Ω–∞–ø—Ä—è–º—É—é –≤ Telegram: @li1_kin_bot –∏–ª–∏ @leo_kin_bot');
            }
        }
        
        // Polling –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç –±–æ—Ç–∞
        let pollingInterval = null;
        let lastMessageId = 0;
        
        function startPollingForResponse() {
            let attempts = 0;
            const maxAttempts = 30; // –ú–∞–∫—Å–∏–º—É–º 30 –ø–æ–ø—ã—Ç–æ–∫ (60 —Å–µ–∫—É–Ω–¥)
            
            if (pollingInterval) clearInterval(pollingInterval);
            
            pollingInterval = setInterval(async () => {
                attempts++;
                
                try {
                    // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
                    const response = await fetch(
                        `${API_URL}/chat/messages?user_id=${currentUser.id}&companion=${currentCompanion}&last_id=${lastMessageId}`
                    );
                    
                    if (!response.ok) throw new Error('Failed to fetch messages');
                    
                    const data = await response.json();
                    
                    if (data.messages && data.messages.length > 0) {
                        // –ò—â–µ–º –æ—Ç–≤–µ—Ç –æ—Ç –±–æ—Ç–∞
                        const botMessages = data.messages.filter(m => m.from === 'bot' && m.id > lastMessageId);
                        
                        if (botMessages.length > 0) {
                            // –ù–∞—à–ª–∏ –æ—Ç–≤–µ—Ç!
                            hideTyping();
                            
                            botMessages.forEach(msg => {
                                addMessage('bot', msg.text);
                                lastMessageId = Math.max(lastMessageId, msg.id);
                            });
                            
                            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º polling
                            clearInterval(pollingInterval);
                            pollingInterval = null;
                            
                            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫
                            messagesCount++;
                            document.getElementById('msgLeft').textContent = MAX_FREE_MESSAGES - messagesCount;
                        }
                    }
                    
                    // –ï—Å–ª–∏ –ø—Ä–µ–≤—ã—Å–∏–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
                    if (attempts >= maxAttempts) {
                        clearInterval(pollingInterval);
                        pollingInterval = null;
                        hideTyping();
                        addMessage('bot', '‚è±Ô∏è –ë–æ—Ç –¥—É–º–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ. –ü–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ.');
                    }
                    
                } catch (e) {
                    console.error('Polling error:', e);
                }
            }, 2000); // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
        }
        
        function addMessage(from, text) {
            const container = document.getElementById('chatMessages');
            const msgDiv = document.createElement('div');
            msgDiv.className = `chat-message ${from}`;
            msgDiv.textContent = text;
            container.appendChild(msgDiv);
            container.scrollTop = container.scrollHeight;
        }
        
        function showTyping() {
            const container = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'chat-message typing';
            typingDiv.id = 'typingIndicator';
            typingDiv.textContent = currentCompanion === 'li' ? '–õ–∏ –ø–µ—á–∞—Ç–∞–µ—Ç...' : '–õ–µ–æ –ø–µ—á–∞—Ç–∞–µ—Ç...';
            container.appendChild(typingDiv);
            container.scrollTop = container.scrollHeight;
        }
        
        function hideTyping() {
            const typing = document.getElementById('typingIndicator');
            if (typing) typing.remove();
        }
        
        function handleKeyPress(e) {
            if (e.key === 'Enter') sendMessage();
        }
        
        // ========== FAQ ==========
        document.querySelectorAll('.faq-question').forEach(q => {
            q.addEventListener('click', () => {
                q.parentElement.classList.toggle('active');
            });
        });
        
        // ========== KEYBOARD ==========
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal.active').forEach(m => m.classList.remove('active'));
                document.getElementById('authModal').classList.remove('active');
                document.body.style.overflow = '';
            }
        });
        
        // Close modal on backdrop
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        });
        // ========== SESSION MANAGEMENT ==========
        const SESSION_TIMEOUT = 30 * 60 * 1000; // 30 –º–∏–Ω—É—Ç
        
        function handleAuthClick() {
            const user = JSON.parse(localStorage.getItem('kin_user'));
            const lastActivity = localStorage.getItem('kin_last_activity');
            
            if (user && lastActivity) {
                const elapsed = Date.now() - parseInt(lastActivity);
                if (elapsed < SESSION_TIMEOUT) {
                    window.location.href = '/app';
                    return;
                } else {
                    localStorage.removeItem('kin_user');
                    localStorage.removeItem('kin_last_activity');
                }
            }
            
            window.location.href = '/login';
        }
        
        function updateActivity() {
            localStorage.setItem('kin_last_activity', Date.now().toString());
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
        document.addEventListener('click', updateActivity);
        document.addEventListener('mousemove', updateActivity);
        document.addEventListener('keypress', updateActivity);
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ—Å—Å–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', function() {
            const user = JSON.parse(localStorage.getItem('kin_user'));
            const lastActivity = localStorage.getItem('kin_last_activity');
            
            if (user && lastActivity) {
                const elapsed = Date.now() - parseInt(lastActivity);
                if (elapsed > SESSION_TIMEOUT) {
                    localStorage.removeItem('kin_user');
                    localStorage.removeItem('kin_last_activity');
                }
            }
            updateActivity();
        });
    </script>
</body>
</html>
